package iii.aihub.utils;

import java.util.List;

import org.jsoup.Jsoup;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.util.StringUtils;

import com.hankcs.hanlp.HanLP;
import com.hankcs.hanlp.dictionary.CustomDictionary;
import com.hankcs.hanlp.dictionary.stopword.CoreStopWordDictionary;
import com.hankcs.hanlp.seg.common.Term;
import com.hankcs.hanlp.tokenizer.NLPTokenizer;
import com.hankcs.hanlp.tokenizer.StandardTokenizer;

public class NLPUtils {

	Logger logger = LoggerFactory.getLogger("nlp-utils");
	
	
	public static void main(String[] args) throws Exception {
		String text = "公廁能怎樣靠著 IoT 物聯網以及雲端科技變乾淨、解決7成客訴，並且提昇120倍效率？";
		String contentHtml = "<p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">走進熱門觀光區的公廁，給您什麼樣的印象？沒有洗手乳？沒有衛生紙？甚至是又髒又臭還漏水？資策會的 IoT 大數據智慧廁間解決方案，一次解決廁所不方便的問題。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">&nbsp;</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">根據行政院環保署的統計，截至2019年9月底為止，全台灣目前已經建檔管理的公廁數量達 4 萬 3 千餘座，而整個環保署卻只有 3 萬 4 千餘人。這麼龐大場域數量的清潔管理，顯然不是一件容易的工作；再加上高齡化社會來臨的必然，從事第一線廁間清潔服務的人員數量和品質勢必遇見前所未有的瓶頸。引入有效的服務流程以及科技的輔助，成為一個遲早要面臨的重大課題。</span></p><p><span id=\\\"docs-internal-guid-6f5824ea-7fff-73b7-afe0-9fd45d413eab\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">資策會服務創新應用研究所 （服創所） 在全台 20餘間 IoT 智慧廁間服務解決方案的實證案例，或許為我們解決這道難題帶來一個不錯的方向。</span></p><h1 dir=\\\"ltr\\\" style=\\\"margin-top: 20pt; margin-bottom: 6pt; font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2;\\\"><span style=\\\"font-size: 20pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">應接不暇的客訴、四大問題、以及服創所的三套解方</span></h1><p><span id=\\\"docs-internal-guid-29a746be-7fff-278b-b69b-6f3de83171ac\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">2016年，當與火車站共構的捷運松山站正式啟用後，原本使用量已經幾乎爆滿的公共廁所，面臨到爆量使用所造成的嚴重客訴。原本平均每日旅客量只有四萬人次的臺鐵松山站，就已經瀕臨服務產能的瓶頸；在連接的捷運松山站開通之後，旅客爆增為七萬人次，讓原本就已經接近極限的服務能量，完全無法應付捷運開通後新增的旅客量。</span></p><p><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">曹雪芹在小說巨著「紅樓夢」當中曾出過一個刻劃人心的經典台詞：「牆倒眾人推」，或許可以形容這個現象：各個獨立廁間的衛生紙、洗手乳總是來不及補充、洗手台骯髒以及廁間排泄物的污染來不及清理，使得廁間的客訴連連，應接不暇。再加上臺鐵松山站的公廁比捷運松山站的公廁更為靠近旅客必經要道。臺鐵松山站至此，必須站出來、面對並解決這個難題。</span></p><p><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">由於臺鐵松山站與資策會的服務創新應用研究所（服創所）有著長期的合作關係，就委託服創所協助解決這個頭痛難解的問題。</span></p><p><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">愛迪生有句名言：「只有在我知道一切做不好的方法以後，才知道做好一件工作的方法是什麼。」而服創所第一個要做的就是痛點分析（Pain Point Analysis），從根本面來思考問題。經過盤點客訴以及與第一線的清潔服務公司探討分析之後，發現四個問題、和三個解方：</span></p><p><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">四個問題分別是：衛生紙以及洗手乳補充不即時，洗手台潮濕以及空間內的惡臭。</span></p><p><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">而三個解方分別來對應這四個問題，分別是：1. 消耗品如衛生紙、洗手乳的精細管理。2. 服務流程中的關鍵績效指標 （ KPI ）數位化，如洗手台的潮濕程度，或是空間中的臭味濃度。3. 利用物聯網（ IoT ）的新科技達成前面兩個解方的實作，輔佐大數據和雲端科技來達成高效益的場域清潔管理。</span></p><h1 dir=\\\"ltr\\\" style=\\\"margin-top: 20pt; margin-bottom: 6pt; font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2;\\\"><span style=\\\"background-color: transparent; color: rgb(0, 0, 0); font-family: Arial; font-size: 20pt; font-weight: 700; white-space: pre-wrap;\\\">六個關鍵感知器，以及 IoT 雲端主板與大數據的結合，徹底解決七成的客訴，效率也提昇了120倍</span></h1><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span id=\\\"docs-internal-guid-dd606dbb-7fff-a65b-3ab4-fac57f39d459\\\"></span></p><h2 dir=\\\"ltr\\\" style=\\\"font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2; margin-top: 18pt; margin-bottom: 6pt;\\\"><span style=\\\"font-size: 16pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">一、消耗品的精細管理</span></h2><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">為了達成衛生紙和洗手乳的精細管理，第一步就是針對這兩個耗材研發感知器來偵測。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">從 2017 年開始，服創所開始設計首款的紅外線廁紙偵測模組。該模組主要運用衛生紙使用習慣的物理特性來偵測：一般正常使用下，廁紙放在鐵桶型的支架上，它的厚度會隨著消耗而慢慢的變薄。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">這個模組需要利用 PSD 位置感應探測器 (position sensitive detector) 、 IRED 紅外線發光二極體&nbsp; (infrared emitting diode) 以及 SPC 信號處理電路 (Signal processing circuit) 三者的搭配，來達成有效的廁紙長度判斷，其精確度甚至達到小數點後一位。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">第一次開發這個偵測模組的時候，由於沒有可以參考的設計，只好從感知器的選擇、電路板的設計規劃、感知器程式的撰寫，甚至光固化 3D 列印的外殼設計完全不假他手，全部都在服創所內完成。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span style=\\\"border: none; display: inline-block; overflow: hidden; width: 531px; height: 399px;\\\"></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">不過，雖然設計生產廁紙感知器的種種困難都克服了，但是萬萬沒有想到，如何固定反而是讓人吃盡苦頭的一道難題。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span style=\\\"border: none; display: inline-block; overflow: hidden; width: 531px; height: 399px;\\\"></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">服創所的工程師陳韋凡與我們分享：「一開始的時候，我們用熱溶膠固定，可是清潔人員每次補充廁紙的時候都需要開開關關。震動一多，沒有很牢固的固定住，結果就是掉下來。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">最糟糕的狀況是在女廁：有一次有女性旅客如廁的時候，這個感知器沒固定好就掉下來了。你會不會覺得這個感知器看起來很像針孔攝影機？這東西突然在女廁掉下來，有沒有很糟糕？（笑）</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">還好長官支持，我們也持續研發如何固定的技術，直到最後可以成功的牢牢固定，不然這個專案早就胎死腹中了。」</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span style=\\\"border: none; display: inline-block; overflow: hidden; width: 531px; height: 708px;\\\"></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">後來，廁紙偵測模組上線之後，原本清潔人員巡察一次廁紙使用量就要花掉 15- 20 分鐘，後來只需打開 APP，10秒就能查完廁紙使用量。大幅提高了效率至原本的 120 倍。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">既然衛生紙的消耗量解決了，下一個難題就是洗手乳的低存量偵測了。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">跟衛生紙不同，洗手乳每一次補充的量不見得完全相同。由於設計的理念是希望能夠用最低價、最穩定的元件來完成這個功能，以便於未來的推廣。最後選擇了常見的霍爾感應器，將其貼在洗手乳給皂器的外殼上，來達成偵測洗手乳即將見底的功能。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">原理其實很單純，只要液面低於某個百分比，霍爾感應器就可以對液面進行電磁感應而產生電壓的變化，感知器送訊號至後端的雲端伺服器，然後跟廁紙感知器一樣，由伺服器再發送訊息給清潔人員。</span></p><h2 dir=\\\"ltr\\\" style=\\\"font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2; margin-top: 18pt; margin-bottom: 6pt;\\\"><span style=\\\"font-size: 16pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">二、服務流程中的關鍵績效指標 （ KPI ）數位化</span></h2><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">洗手台潮濕往往就會滲水到地板上，再加上來往旅客腳上難免帶有灰塵，一旦踩過潮濕的地板，就會使得地板髒污。視覺上就會給人「這廁所很髒」的感受。然而，廁所不可能隨時都有清潔人員值守，這時就需要有專門的感知器來偵測這樣的情況。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">服創所利用薄膜導電電阻的特性，當薄膜電阻表面具有液體時就會降低整體電阻值，進而改變類比訊號輸出的相關數值。如此一來，只要在容易潮濕的表面鋪設薄膜電阻即可偵測潮濕的情況。例如窗台旁邊，或是洗手台面。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">不過，由於感知器較為昂貴，而且刮傷就會破壞感知器的效能，所以後來只有特定的公廁才有導入這個潮濕偵測的感知器。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">另外，除了視覺上的髒污，若是公廁傳出陣陣惡臭，即便這個廁所看來明亮乾淨，仍然會被認為是髒污的廁所。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">然而，臭味的偵測可沒有那麼容易解決。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">一開始，為了找到這個「電子鼻」，找遍了國內外的各種感知器，結果才從日本某個專門生產各種氣體感知器的大廠產品線中找到合適的 MEMS 微機電感應晶片。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">所內接著也是從這個晶片的麵包板測試、電路設計圖、以及發包出去生產，共花了近半年才完成這個感知器的設計。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">除此之外，在研發智慧廁間的過程當中，陸續也接到其他的需求，如人流偵測以及使用偵測等模組的研發委託。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span style=\\\"border: none; display: inline-block; overflow: hidden; width: 531px; height: 399px;\\\"></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">在開發過程當中發現，部份的無障礙廁間可能在使用過後，使用者有可能不小心把門關上，燈也忘記關，所以看起來這間廁所一整天都有人佔用。然而，真正需要使用的人反而被空蕩蕩的無障礙廁所擋在門外。這個問題相對簡單，工程師找到現成的人流感應模組，將其安裝在洗手台之下，這個問題也就迎刃而解。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">另外，部份偏遠的公廁如梨山國家公園這一類公廁，對於環保減碳的要求上實在難以執行。由於地處偏遠，負責人員每天上班要去開燈，下班再去關燈。有些時候一整天卻沒有幾個遊客使用公廁，但所有的燈光以及設備都還是整天開啟，實在非常浪費電。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">而一般市售的感應器非常呆板，只要30秒到10分鐘設定的時間一到，就關掉電源。或許在家中只有一個人使用廁所的情況，這樣的感知器已經堪用，但是動輒60坪的廁所，需要好幾個偵測器一起工作才能確保是否還有使用者在廁間當中，又是一個市面無售的解決方案。服創所只好整合多個感知器，另外在 MCU 上開發演算法，才解決這個需求。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><h2 dir=\\\"ltr\\\" style=\\\"font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2; margin-top: 18pt; margin-bottom: 6pt;\\\"><span style=\\\"font-size: 16pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">三、IoT、雲端、大數據、以及 5G NBIoT 新科技的引入</span></h2><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">創新的路上，總是有總總的困難等著工程人員來克服。而見招拆招的過程當中，也一步步的精鍊了解決方案，使它更便宜、更可靠、更便利。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">在前述的各種感知器建置完成之後，這套系統也陸陸續續產生新的問題留給服創所來解決。例如使用者習慣的障礙、耗電問題、成本問題等等。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><h2 dir=\\\"ltr\\\" style=\\\"font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2; margin-top: 18pt; margin-bottom: 6pt;\\\"><span style=\\\"font-size: 16pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">由 APP 改為更為貼近使用者習慣的 LINE 群組機器人</span></h2><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 12pt; font-family: Calibri, sans-serif; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span style=\\\"border: none; display: inline-block; overflow: hidden; width: 531px; height: 295px;\\\"></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">2017年首次完成松山車站約 60 坪的公廁佈建之時，是採用 MCU 搭配 WIFI 的通訊方式全天候監測並傳輸資料到伺服器上，在系統判斷異常之後，利用服創所寫的手機 App 通知清潔人員。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">這個設計乍看之下似乎牢不可破，然而，由於現場清潔人員平均年齡 50 歲以上，安裝一個專門的 APP 反而沒人使用，第一線人員經常用沒幾天就把程式刪除。空有整套感知器在監控，卻沒有清潔人員真的使用。使用者習慣，往往是新科技導入面臨的最大障礙。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">後來，做了一些使用者訪談後發現，每個公廁的清潔人員，都有一個 LINE 群組。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br><br></p><p></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">服創所工程師陳韋凡說到：「既然知道他們（清潔人員）有 LINE 群組，那就好辦了！</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">我們一開始小心翼翼的詢問清潔人員，是不是可以邀請一個機器人”新同事”來幫忙巡察衛生紙以及判斷廁所的異常。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">一開始的時候，清潔阿姨們還有點疑慮。後來發現這個機器人”新同事”很好用之後，反而很愛它。」</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><h2 dir=\\\"ltr\\\" style=\\\"font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2; margin-top: 18pt; margin-bottom: 6pt;\\\"><span style=\\\"font-size: 16pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">因為成本、環保、以及便利性問題，由 WIFI 升級成 NBIoT 通訊協定</span></h2><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span id=\\\"docs-internal-guid-006c69d8-7fff-56fb-2b27-750deb450ad2\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">WIFI的速度快，頻寬大。但是一個公廁裡有男廁和女廁，就要分開兩個系統來分別監控，而且每個系統都需要獨立的 4G 網路連上雲端系統。所以建置以及通訊成本較為高昂，而且耗電也比較大。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">說到這裡，或許讀者會有疑問：公廁都是設置在公共空間當中，難道沒有公共 WIFI 網路可用？</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">陳韋凡給了我們很有深度的答案：「其實，確實幾乎每個公共空間都有 WIFI 網路可以使用，但是，與其他人共用 WIFI 容易受到干擾，而且 IoT 設備簡單，缺乏安全性控管的機制，若使用公開 WIFI ，有一定的安全風險。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">因此，我們的解決方案中，還是設計封閉的WIFI通訊系統來解決通訊問題。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">另外，由於一個 WIFI 基地台能夠支援的節點數量只有 20-30 個，一個有 18 個廁間的女廁就需要一組系統了。再加上隔了一個水泥牆，訊號會非常衰弱，甚至影響到訊號的穩定性。所以一個公廁設置兩套系統主要是穩定性考量而不是成本考量。」</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span style=\\\"border: none; display: inline-block; overflow: hidden; width: 531px; height: 355px;\\\"></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">人口密集的使用場域當中透過 WIFI 來傳輸資料到伺服器並不會太麻煩，然而，當智慧廁間系統開始被應用到更遙遠的廁間如梨山、谷關、獅頭山等國家公園遊客中心公廁，時時都要確保網路通暢，確實成為一道難題。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">還好，5G 的新一代行動通訊網路當中有一個專門為了 IoT 物聯網設計的 NBIoT 窄頻物聯網通訊方式 (Narrow Band Internet of Things)。服創所領先全台，採用國內晶片大廠的 NBIoT 晶片組開發出台灣首套針對智慧廁間設計的 NBIoT MCU 控制系統 。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><br></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">這套系統除了成本大幅下降、而且十分省電，只需要原本 WIFI 系統 ⅙ 的電量。最重要的是，比起傳統 WIFI 需要相對穩定的 4G 訊號橋接，這套系統的覆蓋範圍更廣，深山野嶺也都可以通訊。使得未來智慧廁間的覆蓋率，可以不受網路訊號的限制而更加廣泛。</span></p><h1 dir=\\\"ltr\\\" style=\\\"margin-top: 20pt; margin-bottom: 6pt; font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2;\\\"><span style=\\\"font-size: 20pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-weight: 700; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">IoT 智慧廁間：一個乾淨、省電、便利的新智慧廁所革命！</span></h1><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><span id=\\\"docs-internal-guid-1f622cea-7fff-884f-f853-eae04822a932\\\"><br></span></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">隨著整套的各式感知器、雲端系統、NBIoT 以及 LINE 機器人陸續上線，帶來的好處十分顯著。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">以松山車站公廁為例，從本來的應接不暇到後來大砍 70% 客訴量，巡察消耗品廁紙所需要的時間從原本的 15-20 分鐘縮短到只需要 10 秒。一旦有異常狀況發生，也從原本的不知不覺，到現今的立即通知。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">有趣的是，意料之外的，這整套系統也順便也帶來了安全、以及徹底執行菸害防治法的附加好處。由於廁間只要有人佔用超過 40 分鐘，就會發出警告給清潔人員的群組。所以，一旦有使用者佔用太久，就會有清潔人員來敲門。安全性大幅提昇。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">另外，臭味偵測器對於煙味也非常的敏感。由於國家公園全面禁煙，部份偏遠公廁常有旅客存著僥倖心態，溜進公廁偷抽煙。在國家公園的公廁中，臭味偵測器一旦偵測到煙味，就會播放一段菸害防治法的語音，讓旅客清楚知道公廁內抽煙可是要開罰新台幣二千至一萬元的。自從臭味偵測器安裝了之後，公廁使用者偷抽煙的情況很明顯的大幅減少。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">後來，松山車站的「智慧公廁」因為克服了種種難題，而得到了交通部頒發的「金路獎」，因此而聲名大噪。從原本的客訴連連，變為各個公部門爭相參訪的模範公廁，讓承辦人多了許多帶團參訪的工作，也可以說是很奢侈的煩惱吧。</span></p><h2 dir=\\\"ltr\\\" style=\\\"font-family: &quot;Open Sans&quot;, sans-serif; line-height: 1.2; margin-top: 18pt; margin-bottom: 6pt;\\\"><span style=\\\"font-size: 16pt; font-family: Arial; color: rgb(0, 0, 0); background-color: transparent; font-weight: 400; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">未來展望</span></h2><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">這套系統因為 3 年的研發和場域實驗過程當中已經實證其穩定性和成本效應，目前已經成功技轉給國內的系統整合廠商。目前服創所也期待未來這套方案能夠擴展、甚至是技轉到歐美地區。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">除此之外，在穩定可靠的數據流和通訊連線基礎之上，引入大數據來分析，或許可以讓人力的調配更加的精細，工作分配不均的問題可望得到根本的修正。</span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></p><p dir=\\\"ltr\\\" style=\\\"margin-top: 0pt; margin-bottom: 0pt; line-height: 1.2;\\\"><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\">面對高齡化社會的來臨， NBIoT 通訊系統，搭配上各種 IoT 感知器，或許可以為我們帶來更健康、安全的生活環境。一些傳統上高度仰賴人力的重複性工作，也可以利用科技大幅提昇效率。</span></p><div><span style=\\\"font-size: 11pt; font-family: &quot;Microsoft JhengHei&quot;; color: rgb(0, 0, 0); background-color: transparent; font-variant-numeric: normal; font-variant-east-asian: normal; vertical-align: baseline; white-space: pre-wrap;\\\"><br></span></div>";
		String chtText = "";
		
		String content = Jsoup.parse(contentHtml).text();
		String chtContent = "";
		
		//CRFLexicalAnalyzer analyzer = new CRFLexicalAnalyzer();
		//System.setProperty("root", "D:/OneDrive/cp_crawler/HanLP-1.6.8/data");
		System.out.println("root: "+System.getProperties().getProperty("root"));
		chtText = HanLP.convertToTraditionalChinese(text);
		System.out.println("chs2cht: "+chtText);
		System.out.println("title 關鍵字提取: "+HanLP.extractKeyword(chtText, 10));
		System.out.println("title 分詞: "+HanLP.segment(chtText));
		addCustomDictionary();
		//CoreStopWordDictionary.add("抱");
		//CoreStopWordDictionary.add("房");
		System.out.println("title 關鍵字提取: "+HanLP.extractKeyword(chtText, 10));
		System.out.println("title 分詞: "+HanLP.segment(chtText));
		chtContent = HanLP.convertToTraditionalChinese(content);
		chtContent = StringUtils.trimAllWhitespace(chtContent);
		System.out.println("前100個字："+chtContent.substring(0,150)+"...");
		System.out.println("content 關鍵字提取: "+HanLP.extractKeyword(chtContent, 10));
		System.out.println("content 分詞: "+HanLP.segment(chtContent));
		//System.out.println("CRF: "+analyzer.analyze(chtContent));
		System.out.println("標準分詞: "+StandardTokenizer.segment(chtContent));
		System.out.println("NLP分詞: "+NLPTokenizer.analyze(chtContent));
		System.out.println("一句話: "+ (HanLP.extractSummary(chtContent, 50)) );
		System.out.println("短語： "+ HanLP.extractPhrase(chtContent, 150) );
	}

	public static void addCustomDictionary(){
		CustomDictionary.add("阿里巴巴");
		CustomDictionary.add("澳幣");
		CustomDictionary.add("澳元");
		CustomDictionary.add("巴菲特");
		CustomDictionary.add("百度");
		CustomDictionary.add("保本");
		CustomDictionary.add("保險");
		CustomDictionary.add("幣圈");
		CustomDictionary.add("彩券");
		CustomDictionary.add("儲蓄");
		CustomDictionary.add("創投");
		CustomDictionary.add("創業");
		CustomDictionary.add("貸款");
		CustomDictionary.add("低風險");
		CustomDictionary.add("房貸");
		CustomDictionary.add("房屋");
		CustomDictionary.add("分析");
		CustomDictionary.add("富士康");
		CustomDictionary.add("複利");
		CustomDictionary.add("概念股");
		CustomDictionary.add("港幣");
		CustomDictionary.add("港股");
		CustomDictionary.add("港元");
		CustomDictionary.add("高獲利");
		CustomDictionary.add("股票");
		CustomDictionary.add("股市");
		CustomDictionary.add("韓幣");
		CustomDictionary.add("鴻海");
		CustomDictionary.add("黃金");
		CustomDictionary.add("匯率");
		CustomDictionary.add("貨幣");
		CustomDictionary.add("基金");
		CustomDictionary.add("兼職");
		CustomDictionary.add("借錢");
		CustomDictionary.add("金融");
		CustomDictionary.add("京東");
		CustomDictionary.add("淨值");
		CustomDictionary.add("跨境");
		CustomDictionary.add("礦機");
		CustomDictionary.add("理財");
		CustomDictionary.add("利率");
		CustomDictionary.add("聯準會");
		CustomDictionary.add("馬化騰");
		CustomDictionary.add("馬雲");
		CustomDictionary.add("貿易戰");
		CustomDictionary.add("美股");
		CustomDictionary.add("美金");
		CustomDictionary.add("美元");
		CustomDictionary.add("牛市");
		CustomDictionary.add("歐元");
		CustomDictionary.add("破產");
		CustomDictionary.add("期貨");
		CustomDictionary.add("區塊鏈");
		CustomDictionary.add("人民幣");
		CustomDictionary.add("日圓");
		CustomDictionary.add("融資");
		CustomDictionary.add("散戶");
		CustomDictionary.add("商機");
		CustomDictionary.add("上漲");
		CustomDictionary.add("收入");
		CustomDictionary.add("首富");
		CustomDictionary.add("私募");
		CustomDictionary.add("松下");
		CustomDictionary.add("台幣");
		CustomDictionary.add("特斯拉");
		CustomDictionary.add("騰訊");
		CustomDictionary.add("投信");
		CustomDictionary.add("投資");
		CustomDictionary.add("投資移民");
		CustomDictionary.add("土耳其");
		CustomDictionary.add("退休");
		CustomDictionary.add("外幣");
		CustomDictionary.add("外匯");
		CustomDictionary.add("下跌");
		CustomDictionary.add("小資");
		CustomDictionary.add("新股");
		CustomDictionary.add("新聞");
		CustomDictionary.add("新興市場");
		CustomDictionary.add("薪資");
		CustomDictionary.add("信託");
		CustomDictionary.add("信用卡");
		CustomDictionary.add("熊市");
		CustomDictionary.add("印度");
		CustomDictionary.add("英鎊");
		CustomDictionary.add("原物料");
		CustomDictionary.add("原油");
		CustomDictionary.add("債券");
		CustomDictionary.add("帳戶");
		CustomDictionary.add("證券");
		CustomDictionary.add("證照");
		CustomDictionary.add("致富");
		CustomDictionary.add("中國");
		CustomDictionary.add("賺錢");
		CustomDictionary.add("Amazon");
		CustomDictionary.add("Apple");
		CustomDictionary.add("bitcoin");
		CustomDictionary.add("比特幣");
		CustomDictionary.add("btc");
		CustomDictionary.add("Facebook");
		CustomDictionary.add("Fintech");
		CustomDictionary.add("Google");
		CustomDictionary.add("IC");
		CustomDictionary.add("ICO");
		CustomDictionary.add("IOT");
		CustomDictionary.add("蘋果");
	}
	
	public static List<Term> segment(String text){
		return HanLP.segment(text);
	}
	
	
}
